{% extends 'base.html' %}
{% block content %}
<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4" style="margin-top: 2.5rem;">
    <h1 class="h3 mb-0 text-gray-800">Chart Sample</h1>
</div>
<div class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Stacked Bar Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <div class="card-body">
        <div class="chart">
            <canvas id="bar-chart3" ></canvas>
        </div>
    </div>
    <!-- /.card-body -->
</div>
<div class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Stacked Bar Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <div class="card-body">
        <div class="chart">
            <canvas id="bar-chart" ></canvas>
        </div>
    </div>
    <!-- /.card-body -->
</div>
<div class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Stacked Bar Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <div class="card-body">
        <div class="chart">
            <canvas id="bar-chart2" ></canvas>
        </div>
    </div>
    <!-- /.card-body -->
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
$.ajax({
    url: '../json-stacked-wk-data/',
    type: 'get',
    dataType: 'json',
    success: function (data) {
        console.log(data["labels"]);
        chart = new Chart(document.getElementById("bar-chart3"), {
            type: 'bar',
            data: {
              labels: data.labels,
              datasets: data.datasets
            },
              options: {
                 scales: {
                    xAxes: [{
                        stacked: true
                    }],
                    yAxes: [{
                        stacked: true
                    }]
                }
              }
        });
    },
    error: function (xhr, status, error) {
        // 블라블라
    },
    complete: function (data) {
        // 블라블라
    }
});

new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: ['keyword#01', 'keyword#02', 'keyword#03', 'keyword#04', 'keyword#05'],
      datasets: [
        {
          label: "keyword#01",
          backgroundColor: ["#3e95cd"],
          data: [4,5,6,7,8,9,4]
        },
        {
          label: "keyword#02",
          backgroundColor: ["#2ecc71"],
          data: [2,2,3,4,5,6,1]
        },
        {
          label: "keyword#03",
          backgroundColor: ["#f1c40f"],
          data: [4,3,3,2,3,1,1]
        },
        {
          label: "keyword#04",
          backgroundColor: ["#9b59b6"],
          data: [5,4,3,1,2,9,2]
        },
        {
          label: "keyword#05",
          backgroundColor: ["#e74c3c"],
          data: [2,5,1,1,3,3,6]
        }
      ]
    },
      options: {
        plugins: {
          title: {
            display: true,
            text: 'Chart.js Bar Chart - Stacked'
          },
        },
        responsive: true,
        scales: {
          x: {
            stacked: true,
          },
          y: {
            stacked: true
          }
        }
      }
});
new Chart(document.getElementById("bar-chart2"), {
    type: 'bar',
    data: {
      labels: ['월', '화', '수', '목', '금'],
      datasets: [
        {
          label: "keyword#01",
          backgroundColor: ["#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd"],
          data: [4,5,6,7,8,9,4]
        },
        {
          label: "keyword#02",
          backgroundColor: ["#2ecc71","#2ecc71","#2ecc71","#2ecc71","#2ecc71"],
          data: [2,2,3,4,5,6,1]
        },
        {
          label: "keyword#03",
          backgroundColor: ["#f1c40f","#f1c40f","#f1c40f","#f1c40f","#f1c40f"],
          data: [4,3,3,2,3,1,1]
        },
        {
          label: "keyword#04",
          backgroundColor: ["#9b59b6","#9b59b6","#9b59b6","#9b59b6","#9b59b6"],
          data: [5,4,3,1,2,9,2]
        },
        {
          label: "keyword#05",
          backgroundColor: ["#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c"],
          data: [2,5,1,1,3,3,6]
        }
      ]
    },
      options: {
         scales: {
            xAxes: [{
                stacked: true
            }],
            yAxes: [{
                stacked: true
            }]
        }
      }
});
  </script>
{% endblock %}